/**
 * Helper
 * @package   gradingform_frubric
 * @copyright 2021 Veronica Bermegui
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("gradingform_frubric/feditor_helper",["core/log"],(function(Log){return{getClosest:function(elem,selector){for(;elem&&elem!==document;elem=elem.parentNode)if(elem.matches(selector))return elem;return null},getPreviousElement:function(elem,selector){var sibling=elem.previousElementSibling;if(selector)for(;sibling;){if(sibling.matches(selector))return sibling;sibling=sibling.previousElementSibling}},getDistanceFromCriterionHeader:function(elem,selector){var sibling=elem.previousElementSibling,distance=-1;if(selector)for(;sibling;){if(distance++,sibling.matches(selector))return distance;sibling=sibling.previousElementSibling}},getNextElement:function(elem,selector){var sibling=elem.nextElementSibling;if(selector)for(;sibling;){if(sibling.matches(selector))return sibling;sibling=sibling.nextElementSibling}},getCriteriaJSON:function(){return JSON.parse(document.getElementById("id_criteria").value)},getLevelsJSON:function(criteriaid){return document.getElementById("advancedgrading-frubric-".concat(criteriaid,"-leveljson")).value},setCriteriaJSON:function(criterioncollection){return document.getElementById("id_criteria").value=JSON.stringify(criterioncollection)},getCriterionFromCriteriaCollection:function(row,criterioncollection){return criterioncollection.filter((function(criterion,index){const id=row.getAttribute("data-criterion-group");if(criterion.rowindex=index,id==criterion.id)return criterion}),row)},getRandomID:function(){return Math.floor(9999*Math.random())},getMode:function(){return document.querySelector(".criterion-header").getAttribute("data-mode")},getMinMax:function(score){return-1!=score.indexOf("-")?score.split("-"):score.split("/")},getMaxValueInLevelInCriterion:function(groupid){const maxvalues=[],marks=document.querySelectorAll(".level-".concat(groupid," .level-mark .fmark"));return Array.from(marks).forEach((score=>{const minmax=score.value.split("-");maxvalues.push(Number(minmax[minmax.length-1]))}),maxvalues),Math.max(...maxvalues)},setHiddenCriteriaJSON:function(criteria){document.querySelector('input[name="criteriajsonhelper"]').value=JSON.stringify(criteria)}}}));

//# sourceMappingURL=feditor_helper.min.js.map