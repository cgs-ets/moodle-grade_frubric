define ("gradingform_frubric/rerender_control",["jquery","gradingform_frubric/feditor_helper","core/templates"],function(a,b,c){'use strict';function d(a){var b=this;b.FEDITOR="gradingform_frubric/frubriceditor";b.mode=a}d.prototype.main=function(){var a=this;if("regrade"==a.mode){a.rerendercreatedRegrade()}if("rerendercreate"==a.mode){a.rerenderCreate()}if("rerenderupdate"==a.mode){a.rerenderUpdate()}};d.prototype.rerendercreatedRegrade=function(){Y.log("render regrade...");var a=this,d=b.getCriteriaJSON(),e=document.getElementById("cont").getAttribute("data-definition-id"),f={edit:1,mode:"edit",rerender:1,definitionid:e,regradealert:1,criteria:[]};d.forEach(function(a){f.criteria.push(a)});c.render(a.FEDITOR,f).done(function(a,b){Y.log(a);var d=document.getElementById("cont");c.replaceNode(d,a,b)}).fail(function(a){Y.debug("error...");Y.debug(a)});document.querySelector("input[name=\"regrade\"]").value="-1"};d.prototype.rerenderCreate=function(){Y.log("rerenderCreate ....");var a=b.getCriteriaJSON(),d=document.getElementById("cont").getAttribute("data-definition-id"),e={mode:"create",rerender:1,fromrr:1,definitionid:d,fromrerenderupdate:1,criteria:[]};a.forEach(function(a){e.criteria.push(a)});Y.log(e);c.render(self.FEDITOR,e).done(function(a,b){Y.log(a);var d=document.getElementById("cont");c.replaceNode(d,a,b)}).fail(function(a){Y.debug("error...");Y.debug(a)})};d.prototype.rerenderUpdate=function(){var a=this;Y.log("rerenderUpdate ....");var d=b.getCriteriaJSON(),e=document.getElementById("cont").getAttribute("data-definition-id");Y.log(d);var f={mode:"edit",rerender:1,fromrr:1,definitionid:e,fromrerenderupdate:1,criteria:[]};d.forEach(function(a){f.criteria.push(a)});c.render(a.FEDITOR,f).done(function(a,b){Y.log(a);var d=document.getElementById("cont");c.replaceNode(d,a,b)}).fail(function(a){Y.debug("error...");Y.debug(a)})};return{init:function(a){Y.log("Rerender control...");var b=new d(a);b.main()}}});
//# sourceMappingURL=rerender_control.min.js.map
