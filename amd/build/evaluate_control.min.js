define ("gradingform_frubric/evaluate_control",["jquery","core/log","core/templates","core/ajax","core/str","gradingform_frubric/feditor_helper"],function(a,b,c,d,e,f){'use strict';function g(a){var b=this;b.criteria=a}g.prototype.main=function(){var a=this;a.setupEvents(a.criteria)};g.prototype.setupEvents=function(a){var b=this;a.forEach(function(a){var b=this,c=document.getElementById("advancedgrading-frubric-criteria-".concat(a.criteriaid)),d=c.children[0].children;Array.from(d).forEach(function(a){var c=a.children[1],d=c.children;Array.from(d).forEach(function(a){if(a instanceof HTMLInputElement){a.addEventListener("click",b.clickDescriptorHandler.bind(b))}})},b)},b)};g.prototype.clickDescriptorHandler=function(a){this;b.debug("CHECKED...");b.debug(a);var c=a.target.id.split("-"),d=c[3],e=c[5],g=c[c.length-1],h=JSON.parse(f.getLevelsJSON(d));b.debug(d);b.debug(e);b.debug(g);var i=h[e].descriptors;b.debug(i);i.filter(function(a){if(a.descriptorid==g){a.checked=!a.checked}},g);b.debug(h);document.getElementById("advancedgrading-frubric-".concat(d,"-leveljson")).value=JSON.stringify(h)};return{init:function(a){b.debug("gradingform_frubric: Evaluate Control...");a=JSON.parse(a);var c=new g(a.criteria);c.main(a.criteria)}}});
//# sourceMappingURL=evaluate_control.min.js.map
